{
	"$schema": "node_modules/wrangler/config-schema.json",
	"name": "kaito-tokyo-discord-oidc",
	"main": "src/index.ts",
	"compatibility_date": "2025-08-03",
	"observability": {
		"enabled": true
	},
	"kv_namespaces": [
		{
			"binding": "OIDC_CLIENTS",
			"id": "dummy-id-for-local-dev"
		}
	],
	"env": {
		"production": {
			"vars": {
				"DISCORD_CLIENT_ID": "1404871693767544893"
			},
			"kv_namespaces": [
				{
					"binding": "OIDC_CLIENTS",
					"id": "72ec7266568d4dbebb7c55cc0eadc7ee"
				}
			]
		},
		"test": {
			"vars": {
				"DISCORD_CLIENT_ID": "discord-client-id",
				"DISCORD_GUILD_IDS": "discord-guild-id",
				"CODE_PRIVATE_KEY": "{\"kty\":\"EC\",\"x\":\"BNo3Mq2cH_F3gjVMNarajk6CEe7ACnog1AYEnUO0N8g\",\"y\":\"PsSNgkm5Jpy8p8rc8HH0U9fa4-dCEJG81kxI2yQArH8\",\"crv\":\"P-256\",\"d\":\"y2y53r0Z9e2OorJwFDlezhLBNv7qekxDOft2dzbFTRo\",\"use\":\"enc\",\"alg\":\"ECDH-ES+A256KW\",\"kid\":\"0198a59b-82af-765a-b25b-3e378297a2a0\"}",
				"DISCORD_CLIENT_SECRET": "discord-client-secret",
				"JWT_PRIVATE_KEY": "{\"kty\":\"EC\",\"x\":\"Vb5MIA7WsDQzqjsV8udvwNIvhZ7HWZxzyAstzCyR5xk\",\"y\":\"8Lc4Y0Ke0wBH9T7v6179zjaCeCaiDNRK2OtUA_YVbn8\",\"crv\":\"P-256\",\"d\":\"teLx5xvxFjeXua4rfvaxegX2andBE2F8Ysa8qLNf8Bo\",\"use\":\"sig\",\"alg\":\"ES256\",\"kid\":\"0198a5b0-a018-7756-a4e3-ebf3f0dd9cfe\"}",
				"STATE_SECRET": "q9DpQgBtc4yoUFYtZgHDXfJNhxfgbRc3qJttmqyLjWI="
			},
			"kv_namespaces": [
				{
					"binding": "OIDC_CLIENTS",
					"id": "dummy"
				}
			]
		}
	},
	"placement": { "mode": "smart" }
}
